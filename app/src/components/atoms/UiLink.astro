---
import type { HTMLAttributes } from "astro/types";

type Props = HTMLAttributes<"a"> & {
  asInternal?: boolean;
  externalWithIcon?:boolean
}
const { href,externalWithIcon, "aria-label": label, asInternal, ...rest } = Astro.props;
const href_ = href as string;
---

{
  (href_ && href_.startsWith("/")) ||
  (href_ && href_.startsWith("#")) ||
  asInternal ? (
    <a
      href={href}
      aria-label={!label || label === "" ? `Link to ${href}` : label}
      {...rest}
    >
      <slot />
    </a>
  ) : (
    <a
      href={href_}
      aria-label={!label || label === "" ? `Link to ${href}` : label}
      target="_blank"
      rel="noopener noreferrer"
      {...rest}
    >
      <slot />
      {
        externalWithIcon?<span aria-hidden="true" class="i-ph-arrow-up-right  ml2"/>:null
      }
    </a>
  )
}
